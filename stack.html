<html>
<body>

<ol>
  <li>Open dev tools, Sources Panel</li>
  <li>(Clear any existing recording)</li>
  <li>Click button below</li>
  <li>Select "chart" from Source Panel dropdown</li>
</ol>

<button onclick="stackMe()">Stack It Up</button>

<script type="text/javascript" charset="utf-8">
  var loopCount = 5000000;

  function stackMe(){
    console.timeline('stacks');
    console.profile('stacks');

    setTimeout(function(){
        stack1();
    }, 0);
    setTimeout(function(){
        stack3();
    }, 30);
    setTimeout(function(){
        stack1();
        setTimeout(function(){
          console.timelineEnd('stacks');
          console.profileEnd('stacks');
        }, 10);
    }, 100);
  }

  function loop(times){
    var x = 0;
    while (x < times) { x++; }
    return;
  }

  function stack1(){
    console.timeStamp('stack1');
    loop(loopCount);
  }

  function stack3(){
    console.timeStamp('stack3');
    loop(loopCount);
    stack3a();
  }
  function stack3a(){
    console.timeStamp('stack3a');
    loop(loopCount);
    stack3b();
  }
  function stack3b(){
    console.timeStamp('stack3b');
    loop(loopCount);
    stack3c();
  }
  function stack3c(){
    console.timeStamp('stack3c');
    loop(loopCount);
  }
</script>
</body>
</html>
